<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PWA(Progressive Web App) | 개발 아카이브</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#FF9076">
    
    <link rel="preload" href="/blog/assets/css/0.styles.f9ab6a77.css" as="style"><link rel="preload" href="/blog/assets/js/app.53114c0e.js" as="script"><link rel="preload" href="/blog/assets/js/2.bad5ef98.js" as="script"><link rel="preload" href="/blog/assets/js/62.601ba8cf.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.44b7f703.js"><link rel="prefetch" href="/blog/assets/js/11.6408a5e8.js"><link rel="prefetch" href="/blog/assets/js/12.86766cf1.js"><link rel="prefetch" href="/blog/assets/js/13.1b0f33ba.js"><link rel="prefetch" href="/blog/assets/js/14.e338c147.js"><link rel="prefetch" href="/blog/assets/js/15.896abae0.js"><link rel="prefetch" href="/blog/assets/js/16.735ad524.js"><link rel="prefetch" href="/blog/assets/js/17.5e56a46d.js"><link rel="prefetch" href="/blog/assets/js/18.482fae38.js"><link rel="prefetch" href="/blog/assets/js/19.c273efa3.js"><link rel="prefetch" href="/blog/assets/js/20.59f329a6.js"><link rel="prefetch" href="/blog/assets/js/21.465902d9.js"><link rel="prefetch" href="/blog/assets/js/22.de5dd508.js"><link rel="prefetch" href="/blog/assets/js/23.eab4c950.js"><link rel="prefetch" href="/blog/assets/js/24.34fe2f32.js"><link rel="prefetch" href="/blog/assets/js/25.c30510b3.js"><link rel="prefetch" href="/blog/assets/js/26.740f9a3b.js"><link rel="prefetch" href="/blog/assets/js/27.ec895320.js"><link rel="prefetch" href="/blog/assets/js/28.b599d966.js"><link rel="prefetch" href="/blog/assets/js/29.994ad6d0.js"><link rel="prefetch" href="/blog/assets/js/3.3c6c2b4b.js"><link rel="prefetch" href="/blog/assets/js/30.1aeb304e.js"><link rel="prefetch" href="/blog/assets/js/31.b275c047.js"><link rel="prefetch" href="/blog/assets/js/32.2e260315.js"><link rel="prefetch" href="/blog/assets/js/33.4954cd12.js"><link rel="prefetch" href="/blog/assets/js/34.80a62917.js"><link rel="prefetch" href="/blog/assets/js/35.fdc44482.js"><link rel="prefetch" href="/blog/assets/js/36.d1c04c18.js"><link rel="prefetch" href="/blog/assets/js/37.70a6fbbc.js"><link rel="prefetch" href="/blog/assets/js/38.341ea7cf.js"><link rel="prefetch" href="/blog/assets/js/39.b43d4f48.js"><link rel="prefetch" href="/blog/assets/js/4.ac18e55c.js"><link rel="prefetch" href="/blog/assets/js/40.c6bb8d4d.js"><link rel="prefetch" href="/blog/assets/js/41.26ce37bc.js"><link rel="prefetch" href="/blog/assets/js/42.bd253fc8.js"><link rel="prefetch" href="/blog/assets/js/43.162376bf.js"><link rel="prefetch" href="/blog/assets/js/44.f40a6c7c.js"><link rel="prefetch" href="/blog/assets/js/45.f5f82ce3.js"><link rel="prefetch" href="/blog/assets/js/46.c9509d81.js"><link rel="prefetch" href="/blog/assets/js/47.0739c155.js"><link rel="prefetch" href="/blog/assets/js/48.744d987a.js"><link rel="prefetch" href="/blog/assets/js/49.e8d77626.js"><link rel="prefetch" href="/blog/assets/js/5.d59a58d9.js"><link rel="prefetch" href="/blog/assets/js/50.6424f0e9.js"><link rel="prefetch" href="/blog/assets/js/51.5e8a360b.js"><link rel="prefetch" href="/blog/assets/js/52.2424ff8f.js"><link rel="prefetch" href="/blog/assets/js/53.3b2c0f5d.js"><link rel="prefetch" href="/blog/assets/js/54.7f91b6e7.js"><link rel="prefetch" href="/blog/assets/js/55.fa5efc07.js"><link rel="prefetch" href="/blog/assets/js/56.4943d3c0.js"><link rel="prefetch" href="/blog/assets/js/57.7ec575ab.js"><link rel="prefetch" href="/blog/assets/js/58.fd7e2564.js"><link rel="prefetch" href="/blog/assets/js/59.9ca7b0c2.js"><link rel="prefetch" href="/blog/assets/js/6.11dd56b9.js"><link rel="prefetch" href="/blog/assets/js/60.312adda8.js"><link rel="prefetch" href="/blog/assets/js/61.93a90e43.js"><link rel="prefetch" href="/blog/assets/js/63.cf05ddd8.js"><link rel="prefetch" href="/blog/assets/js/64.94060f1a.js"><link rel="prefetch" href="/blog/assets/js/65.865cb11e.js"><link rel="prefetch" href="/blog/assets/js/66.4ddd703d.js"><link rel="prefetch" href="/blog/assets/js/67.60a8391d.js"><link rel="prefetch" href="/blog/assets/js/68.2815b002.js"><link rel="prefetch" href="/blog/assets/js/69.c60cab39.js"><link rel="prefetch" href="/blog/assets/js/7.d5a868fb.js"><link rel="prefetch" href="/blog/assets/js/70.6ef5ef6d.js"><link rel="prefetch" href="/blog/assets/js/71.df78d764.js"><link rel="prefetch" href="/blog/assets/js/72.5e4fc9e3.js"><link rel="prefetch" href="/blog/assets/js/73.3aef12cb.js"><link rel="prefetch" href="/blog/assets/js/74.dd7c405f.js"><link rel="prefetch" href="/blog/assets/js/75.da15c3a6.js"><link rel="prefetch" href="/blog/assets/js/76.87c3bc8d.js"><link rel="prefetch" href="/blog/assets/js/77.93b11202.js"><link rel="prefetch" href="/blog/assets/js/78.2b36e20a.js"><link rel="prefetch" href="/blog/assets/js/79.379504bd.js"><link rel="prefetch" href="/blog/assets/js/8.009441c0.js"><link rel="prefetch" href="/blog/assets/js/80.e5b2f60f.js"><link rel="prefetch" href="/blog/assets/js/81.1e2b4adb.js"><link rel="prefetch" href="/blog/assets/js/82.82733d30.js"><link rel="prefetch" href="/blog/assets/js/83.701e0567.js"><link rel="prefetch" href="/blog/assets/js/84.95941650.js"><link rel="prefetch" href="/blog/assets/js/85.d5a3a46f.js"><link rel="prefetch" href="/blog/assets/js/86.5d9b21a2.js"><link rel="prefetch" href="/blog/assets/js/87.50e9bf38.js"><link rel="prefetch" href="/blog/assets/js/88.2ba166d7.js"><link rel="prefetch" href="/blog/assets/js/89.7dce01af.js"><link rel="prefetch" href="/blog/assets/js/9.3ca48ea4.js"><link rel="prefetch" href="/blog/assets/js/90.d0366a41.js"><link rel="prefetch" href="/blog/assets/js/91.ffc435b3.js"><link rel="prefetch" href="/blog/assets/js/92.928a38bd.js"><link rel="prefetch" href="/blog/assets/js/93.ea22a49d.js"><link rel="prefetch" href="/blog/assets/js/94.705b2ecb.js"><link rel="prefetch" href="/blog/assets/js/95.8a7dabc1.js"><link rel="prefetch" href="/blog/assets/js/96.e359fc36.js"><link rel="prefetch" href="/blog/assets/js/97.c8940ec6.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.f9ab6a77.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">개발 아카이브</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/TIL/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/blog/Algorithm/" class="nav-link">
  알고리즘
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/" class="nav-link">
  About
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Salvation-sub/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://velog.io/@kyman19940214" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/TIL/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/blog/Algorithm/" class="nav-link">
  알고리즘
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/" class="nav-link">
  About
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Salvation-sub/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://velog.io/@kyman19940214" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/TIL/" aria-current="page" class="sidebar-link">TDL(Today Daniel Learned)</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>aws</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>cs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>frontend</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/TIL/frontend/functionalprogramming/" class="sidebar-link">함수형 프로그래밍이란?</a></li><li><a href="/blog/TIL/frontend/functionalprogramming02/" class="sidebar-link">함수형 프로그래밍 (실습)</a></li><li><a href="/blog/TIL/frontend/graphql/" class="sidebar-link">GraphQL이란?</a></li><li><a href="/blog/TIL/frontend/pwa/" aria-current="page" class="active sidebar-link">PWA(Progressive Web App)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/TIL/frontend/pwa/#why-pwa" class="sidebar-link">Why PWA?</a></li><li class="sidebar-sub-header"><a href="/blog/TIL/frontend/pwa/#pwa의-한계" class="sidebar-link">PWA의 한계</a></li><li class="sidebar-sub-header"><a href="/blog/TIL/frontend/pwa/#pwa-구성" class="sidebar-link">PWA 구성</a></li></ul></li><li><a href="/blog/TIL/frontend/rxjs/" class="sidebar-link">RxJS는 무엇인가?</a></li><li><a href="/blog/TIL/frontend/tailwind/" class="sidebar-link">Tailwind CSS를 왜 사용할까?</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>modern-javascript-deepdive</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>quick-start-typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>server</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>tech-talk</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>udemy-big-o</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="pwa-progressive-web-app"><a href="#pwa-progressive-web-app" class="header-anchor">#</a> PWA(Progressive Web App)</h1> <ul><li>모바일 앱과 같은 경험을 주는 웹 앱</li> <li>앱 아이콘, 오프라인, 모바일 푸시, 보안(Https) 등의 기능을 제공</li> <li>네이티브 앱과 달리 HTML,JAVASCRIPT, CSS를 이용하여 구현</li></ul> <h2 id="why-pwa"><a href="#why-pwa" class="header-anchor">#</a> Why PWA?</h2> <ul><li>반응형(Responsive) : 데스크탑, 모바일, 테블릿등 여러 기기에서 동일한 사용자 경험을 제공합니다.</li> <li>보안(Secure) : 기본적으로 HTTPS 통신으로 제공되므로 기존 웹 대비 안전합니다.</li> <li>검색엔진(Searchable) : SEO 적용이 가능하기에 검색엔진을 통해 구글,네이버 포털에 노출됩니다.</li> <li>설치(Installable) : 앱스토어와 별개로 브라우저안에서 &quot;save&quot;를 통해서 홈스크린에 앱 설치가 가능합니다.</li> <li>공유(Linkable) : 기존 앱에서는 DeepLinking을 통해 가능하던 공유하기 기능을 설정 필요없이 URL를 통해 공유할 수 있습니다.</li> <li>오프라인(Offline) : 네트워크 연결 없이도 캐싱을 통해 미리 다운로드 되어 있는 정보를 계속 볼 수 있습니다.</li> <li>재참여 가능(Engageable) : 브라우저가 닫혀 있더라도 푸쉬 알람(Push Notification)을 보낼 수 있어 재방문율을 높여줍니다.</li></ul> <h2 id="pwa의-한계"><a href="#pwa의-한계" class="header-anchor">#</a> PWA의 한계</h2> <ul><li>Native 앱에 비해 성능이 떨어집니다.</li> <li>IOS (Safari)와의 호환성이 떨어집니다.</li> <li>디바이스의 배터리 수명을 빨리소모합니다.</li></ul> <h2 id="pwa-구성"><a href="#pwa-구성" class="header-anchor">#</a> PWA 구성</h2> <p>PWA을 구현하기 위해서는 크게 manifest 과 service workers 라는 2가지 기술을 사용합니다.</p> <h3 id="mainfest"><a href="#mainfest" class="header-anchor">#</a> Mainfest</h3> <p>Progressive Web App의 앱 아이콘, 화면 런쳐방식 및 배경색, 시작 Url 등을 설정할 수 있는 Json형식의 설정파일입니다.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
<span class="token string">&quot;short_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;앱 아이콘 이름&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;하단 설치 배너에 표기될 이름 &amp; 앱에서 검색시 키워드&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;icons&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span>
<span class="token string">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/images/icons.icon-32x32.png&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 아이콘 이미지 경로</span>
<span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;images/png&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 아이콘 이미지 파일 확장자</span>
<span class="token string">&quot;size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;32x32&quot;</span> <span class="token comment">// 아이콘 이미지 사이즈</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token string">&quot;background_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#1E88E5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 웹앱의 Splash Screen 배경색</span>
<span class="token string">&quot;display&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standalone&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 웹앱의 화면 형태</span>
<span class="token string">&quot;start_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span> <span class="token comment">// 앱이 시작 될 때 로딩 될 페이지 위치 지정</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Display 옵션
standalone: 상단 URL바 제거 하여 네이티브 앱 느낌제공
browser: 해당 OS브라우저에서 웹앱 실행
fullscreen: 크롬이 아닌 기타 브라우저에서 네이티브 앱 느낌 제공
minimul-ui: fullscreen과 비슷하나 네이게이션 관련 최소 UI를 제공</p></blockquote> <h4 id="safari-ios-별도-설정"><a href="#safari-ios-별도-설정" class="header-anchor">#</a> Safari(IOS) 별도 설정</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// IOS에서 아이콘을 설정해주기 위해 아래 태그들을 index.html 파일에 추가해줘야합니다.</span>

<span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">&quot;apple-touch-icon&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;touch-icon-iphone.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">&quot;apple-touch-icon&quot;</span> sizes<span class="token operator">=</span><span class="token string">&quot;152x152&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;touch-icon-ipad.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>link
  rel<span class="token operator">=</span><span class="token string">&quot;apple-touch-icon&quot;</span>
  sizes<span class="token operator">=</span><span class="token string">&quot;180x180&quot;</span>
  href<span class="token operator">=</span><span class="token string">&quot;touch-icon-iphone-retina.png&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>link
  rel<span class="token operator">=</span><span class="token string">&quot;apple-touch-icon&quot;</span>
  sizes<span class="token operator">=</span><span class="token string">&quot;167x167&quot;</span>
  href<span class="token operator">=</span><span class="token string">&quot;touch-icon-ipad-retina.png&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// IOS에서 standalone 사용시 필요합니다.</span>

<span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;apple-mobile-web-app-capable&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="service-worker"><a href="#service-worker" class="header-anchor">#</a> Service Worker</h3> <p>브라우저가 백그라운드에서 실행하는 스크립트로, 웹페이지와는 별개로 작동하며, 푸시 알림(Push Notification, Android Chrome 한정) 및 백그라운드 동기화(Background Sync, Android Chrome 한정)와 같은 기능 등 웹페이지 또는 사용자 상호작용이 필요하지 않은 기능에 대해 지원합니다.</p> <h4 id="등록하기"><a href="#등록하기" class="header-anchor">#</a> 등록하기</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//index.html</span>
<span class="token comment">//service worker 등록하기</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;serviceWorker&quot;</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  navigator<span class="token punctuation">.</span>serviceWorker
    <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&quot;sw.js&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Okey!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      cosole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;FAIL&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="설치하기"><a href="#설치하기" class="header-anchor">#</a> 설치하기</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//sw.js</span>
<span class="token keyword">const</span> <span class="token constant">CACHE_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;pwa-offline-v1&quot;</span><span class="token punctuation">;</span> <span class="token comment">//캐쉬를 담을 파일명 정의</span>
<span class="token keyword">const</span> filesToCache <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">//❗️sw-toolbox 사용가능</span>
  <span class="token comment">//캐쉬 할 웹 자원들 목록</span>
  <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token comment">//index.html을 담당</span>
  <span class="token string">&quot;/public/css/styles.css&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;/public/images/banner.png&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;/public/images/manifest.png&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;/public/images/pwa.png&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 서비스 워커 설치 (웹 자원 캐싱)</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;install&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    <span class="token comment">//끝나기 전까지는 이벤트가 끝나지 않는다.</span>
    <span class="token comment">//caches 브라우져 예약어</span>
    caches
      <span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token constant">CACHE_NAME</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cache</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">//캐쉬를 열고 접근 할 수 있는 캐쉬를 얻을 수 있다.</span>
        <span class="token comment">//캐쉬에 넣어라</span>
        <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>filesToCache<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 브라우저와 서버 사이의 미들웨어 역할을 하는 스크립트 이벤트</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;fetch&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;fetch&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
    caches
      <span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>request<span class="token punctuation">)</span> <span class="token comment">//fetch request를 보내는 내용</span>
      <span class="token comment">//값이 있다면 캐쉬 내용을 전달 하고</span>
      <span class="token comment">//없다면 fetch 요청을 보내서 자원을 요청한다.</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response <span class="token operator">||</span> <span class="token function">fetch</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 불필요한 캐쉬 제거</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> newCacheList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">CACHE_NAME</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    <span class="token comment">//promise를 리턴 하기 전짜기 동작을 보당 해준다.</span>
    caches
      <span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cacheList</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
          cacheList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cacheName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>newCacheList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>cacheName<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> caches<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>cacheName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="pwa-프로젝트에-쉽게-적용시키는-법"><a href="#pwa-프로젝트에-쉽게-적용시키는-법" class="header-anchor">#</a> PWA 프로젝트에 쉽게 적용시키는 법</h3> <blockquote><p>https://www.pwabuilder.com/ 를 사용하면 위의 설정들을 좀 더 쉽게 할 수 있습니다.
그러기 위해서는 꼭 https가 적용된 url이여야 합니다.</p></blockquote> <h3 id="참고-자료"><a href="#참고-자료" class="header-anchor">#</a> 참고 자료</h3> <blockquote><p>https://web.dev/progressive-web-apps/ &gt; https://velog.io/@jgi0105/PWA &gt; https://uxgjs.tistory.com/224 &gt; https://valtwo94.medium.com/pwa-progressive-web-app-15cb4177ab7d &gt; https://www.insilicogen.com/blog/350</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">최근변경일:</span> <span class="time">2022-04-27T07:23:10.000Z</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/TIL/frontend/graphql/" class="prev">
        GraphQL이란?
      </a></span> <span class="next"><a href="/blog/TIL/frontend/rxjs/">
        RxJS는 무엇인가?
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.53114c0e.js" defer></script><script src="/blog/assets/js/2.bad5ef98.js" defer></script><script src="/blog/assets/js/62.601ba8cf.js" defer></script>
  </body>
</html>
